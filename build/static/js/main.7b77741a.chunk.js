(this["webpackJsonpf-planner"]=this["webpackJsonpf-planner"]||[]).push([[0],{117:function(e,t,a){},122:function(e,t,a){e.exports={preloader:"Preloader_preloader__1yR4u"}},123:function(e,t,a){e.exports=a.p+"static/media/preloader.62e08d72.gif"},126:function(e,t,a){e.exports=a(286)},211:function(e,t){},27:function(e,t,a){e.exports={label:"SingleTaskForm_label__vtnyU",input:"SingleTaskForm_input__yTS9i"}},286:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(33),c=a.n(r),l=a(117),i=a.n(l),o=a(5),u=a(85),d=a.n(u),m=a(15),k=a(68),f=a.n(k),p=function(e){var t=Object(n.useState)(!0);return Object(m.a)(t,1)[0]?s.a.createElement("a",{className:Object(o.a)("border","border-primary",f.a.logoInfo),href:"/login"},s.a.createElement("i",{className:Object(o.a)("icon-user",f.a.icon)}),"Log Out"):s.a.createElement("a",{className:Object(o.a)("border","border-primary",f.a.logoInfo),href:"/login"},"Log In")},b=a(30),E=function(e){var t=Object(n.useState)(b().format("D.M.YY - H:m:ss")),a=Object(m.a)(t,2),r=a[0],c=a[1],l=setInterval((function(){c(b().format("D MMM YY - H:m:ss")),clearTimeout(l)}),1e3);return s.a.createElement(s.a.Fragment,null,r)},T=function(e){return s.a.createElement("div",{className:Object(o.a)(d.a.header,"m-0 bg-dark d-flex justify-content-between align-items-center")},s.a.createElement("a",{className:d.a.logo,href:"/"},"FPlanner"),s.a.createElement("p",{className:"m-0 text-primary"},s.a.createElement(E,null)),s.a.createElement(p,null))},h=a(26),_=a(56),v=a(57),D=a(67),g=a(64),N=a(36),O=a(87),j=a.n(O),y=a(37),S=a.n(y),x=a(22),I=a(30),w=function(e){var t=e.task,a=e.number,n=e.deleteTask,r=e.doneTask,c=e.unDoneTask,l=e.arrDisabledTask,i=e.addInDisabledTask;return s.a.createElement("li",{className:Object(o.a)("list-group-item p-1",S.a.task)},s.a.createElement(x.b,{className:S.a.taskBody,to:"/task/".concat(t.id)},s.a.createElement("span",null,a),s.a.createElement("span",{className:t.isDone?S.a.done:""},t.title),s.a.createElement("span",null,t.dateE?I(t.dateE).format("DD.MM.YY - HH:mm"):"--no date--")),s.a.createElement("button",{disabled:l.includes(t.id),"data-taskid":t.id,onClick:function(e){e.preventDefault();var a=e.currentTarget.getAttribute("data-taskid");i(a),t.isDone?c(a):r(a)},className:Object(o.a)("text-center btn m-0 p-0 cursor-pointer",S.a.icon,{"text-success":t.isDone})},s.a.createElement("i",{className:"icon-ok"})),s.a.createElement("button",{disabled:l.includes(t.id),"data-taskid":t.id,onClick:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-taskid");i(t),n(t)},className:Object(o.a)("text-center btn m-0 p-0 cursor-pointer",S.a.icon)},s.a.createElement("i",{className:"icon-trash"})))},A=a(69),M=a.n(A),C=a(119).create({baseURL:"http://localhost/"}),Y=function(){return C.get("/tasks").then((function(e){return e.data}))},K=function(e){var t=JSON.stringify(e);return C.post("/task",{body:t})},L=function(e){return C.delete("/task/".concat(e))},F=function(e){var t=JSON.stringify(e);return C.post("/done",{body:t})},H=function(e){return C.delete("/done/".concat(e))},B=function(e){return C.get("/task/".concat(e)).then((function(e){return e.data}))},J=function(e){var t=JSON.stringify(e);return C.put("/task/".concat(e.id),{task:t})},R=a(30),U=function(e){e.task,e.number;var t=e.addNewTask,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),d=u[0],k=u[1];return s.a.createElement("li",{className:Object(o.a)("list-group-item p-1",M.a.task)},s.a.createElement("span",null,"#"),s.a.createElement("form",{className:"d-flex m-0",action:""},s.a.createElement("textarea",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},value:c,placeholder:"Create new task",rows:"1",className:Object(o.a)("m-0 py-0",M.a.textarea),type:"text"}),s.a.createElement("button",{onClick:function(e){var a;(console.log("onClickAddTaskHandler"),e.preventDefault(),c.trim())&&(k(!0),K({id:1,title:c,description:"",dateC:R(),dateE:"",isDone:!1}).then((function(e){a=e.data.id,t({id:a,title:c,description:"",dateC:R(),dateE:"",isDone:!1}),l(""),k(!1)})))},disabled:d,type:"submit",className:Object(o.a)("btn ml-1 p-0",M.a.button)},s.a.createElement("i",{className:"icon-plus"}))))},W=a(89),z=a.n(W),G=function(e){e.task,e.number;return s.a.createElement("li",{className:Object(o.a)("list-group-item active p-1",z.a.task)},s.a.createElement("span",null,"\u2116"),s.a.createElement("span",null,"Title"),s.a.createElement("span",null,"Date expiration"),s.a.createElement("span",{type:"submit",className:Object(o.a)("ml-1 p-0",z.a.button)},s.a.createElement("i",{className:"icon-wrench"})))},P=a(30),q=function(e){var t=e.tasks,a=e.addNewTask,n=e.deleteTask,r=e.doneTask,c=e.unDoneTask,l=e.arrDisabledTask,i=e.addInDisabledTask,o=function(e){var t={};return e.forEach((function(e){e.dateE?-1===Object.keys(t).indexOf(P(e.dateE).format("DD.MM.YY"))?t[P(e.dateE).format("DD.MM.YY")]=[e]:t[P(e.dateE).format("DD.MM.YY")].push(e):-1===Object.keys(t).indexOf("No date")?t["No date"]=[e]:t["No date"].push(e)})),t}(t),u=[];return Object.keys(o).forEach((function(e){u.push(s.a.createElement("span",{className:j.a.date,key:e},e)),o[e].forEach((function(e,t){u.push(s.a.createElement(w,{key:e.id,task:e,deleteTask:n,doneTask:r,unDoneTask:c,addInDisabledTask:i,arrDisabledTask:l,number:++t}))}))})),u.push(s.a.createElement("ul",{key:"fefefe",className:j.a.totalTasks},s.a.createElement("li",{className:"list-unstyled"},"Total tasks: ",t.length),s.a.createElement("li",{className:"list-unstyled"},"Done tasks: ",t.length),s.a.createElement("li",{className:"list-unstyled"},"Undone tasks: ",t.length))),s.a.createElement("ul",{className:"list-group m-0"},s.a.createElement(G,null),s.a.createElement(U,{addNewTask:a}),u)},V=a(28),X=a(8),Q={tasks:[],disabledTask:[]},$=function(e){return{type:"REMOVE_FROM_DISABLED_TASK",taskId:e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TASKS":return Object(X.a)({},e,{tasks:Object(V.a)(t.tasks)});case"ADD_NEW_TASK":return Object(X.a)({},e,{tasks:[].concat(Object(V.a)(e.tasks),[t.newTask])});case"DELETE_TASK":return Object(X.a)({},e,{tasks:Object(V.a)(e.tasks.filter((function(e){return+e.id!==+t.taskId?e:null})))});case"DONE_TASK":return Object(X.a)({},e,{tasks:Object(V.a)(e.tasks.map((function(e){return+e.id===+t.taskId?(e.isDone=!0,e):e})))});case"UNDONE_TASK":return Object(X.a)({},e,{tasks:Object(V.a)(e.tasks.map((function(e){return+e.id===+t.taskId?(e.isDone=!1,e):e})))});case"ADD_IN_DISABLED_TASK":return Object(X.a)({},e,{disabledTask:[].concat(Object(V.a)(e.disabledTask),[+t.taskId])});case"REMOVE_FROM_DISABLED_TASK":return Object(X.a)({},e,{disabledTask:Object(V.a)(e.disabledTask).filter((function(e){return+e!==+t.taskId?e:null}))});default:return e}},ee=function(e){Object(D.a)(a,e);var t=Object(g.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;Y().then((function(t){e.props.setTasks(JSON.parse(t.body).sort((function(e,t){return P(e.dateE).unix()-P(t.dateE).unix()})))}))}},{key:"render",value:function(){return s.a.createElement(q,{tasks:this.props.tasks,addInDisabledTask:this.props.addInDisabledTask,arrDisabledTask:this.props.arrDisabledTask,addNewTask:this.props.addNewTask,deleteTask:this.props.deleteTask,doneTask:this.props.doneTask,unDoneTask:this.props.unDoneTask})}}]),a}(s.a.Component),te=Object(N.b)((function(e){return{tasks:e.tasks.tasks,arrDisabledTask:e.tasks.disabledTask}}),(function(e){return{addNewTask:function(t){e(function(e){return{type:"ADD_NEW_TASK",newTask:e}}(t))},deleteTask:function(t){L(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"DELETE_TASK",taskId:e}}(t)),e($(t)))}))},doneTask:function(t){F(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"DONE_TASK",taskId:e}}(t)),e($(t)))}))},unDoneTask:function(t){H(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"UNDONE_TASK",taskId:e}}(t)),e($(t)))}))},setTasks:function(t){e(function(e){return{type:"SET_TASKS",tasks:e}}(t))},addInDisabledTask:function(t){e(function(e){return{type:"ADD_IN_DISABLED_TASK",taskId:e}}(t))}}}))(ee),ae={id:null,title:"",description:"",dateC:"",dateE:"",isDone:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SINGLE_STATE":return Object(X.a)({},e,{},t.singleTask);default:return e}},se=a(120),re=a.n(se),ce=(a(153),a(30)),le=function(e){var t=e.changeDateE,a=e.singleTask;Object(n.useEffect)((function(){i(new Date(ce(a.dateE?a.dateE:new Date).format("YYYY/MM/DD-HH:mm")))}),[a]);var r=Object(n.useState)(null),c=Object(m.a)(r,2),l=c[0],i=c[1];return s.a.createElement(re.a,{selected:l,onChange:function(e){i(e),t(ce(e).format()),console.log("moment(date): ",ce(e))},minDate:new Date,dateFormat:"dd.MM.yy - hh:mm",showTimeInput:!0,placeholderText:"Select expiration date"})},ie=a(27),oe=a.n(ie),ue=function(e){var t=e.singleTask,a=e.updateSingleTask;Object(n.useEffect)((function(){i(t)}),[t]);var r=Object(n.useState)(t),c=Object(m.a)(r,2),l=c[0],i=c[1];return s.a.createElement("form",null,s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"title",className:Object(o.a)("mr-1",oe.a.label)},"Title:"),s.a.createElement("input",{className:Object(o.a)(oe.a.input),id:"title",onChange:function(e){i(Object(X.a)({},l,{title:e.currentTarget.value}))},type:"text",value:l.title})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"description",className:Object(o.a)("mr-1",oe.a.label)},"Description:"),s.a.createElement("textarea",{className:Object(o.a)(oe.a.input,"p-0 pl-1 pr-1"),rows:"1",id:"description",onChange:function(e){i(Object(X.a)({},l,{description:e.currentTarget.value}))},type:"text",value:l.description})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"Date expiration",className:Object(o.a)("mr-1",oe.a.label)},"Date expiration:"),s.a.createElement(le,{singleTask:t,changeDateE:function(e){i(Object(X.a)({},l,{dateE:e}))}})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"Done",className:Object(o.a)("mr-1",oe.a.label)},"Done:"),s.a.createElement("input",{className:Object(o.a)(oe.a.input),id:"Done",onChange:function(e){i(Object(X.a)({},l,{isDone:!l.isDone}))},type:"checkbox",checked:l.isDone,value:l.isDone})),s.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},s.a.createElement("button",{onClick:function(e){e.preventDefault(),a(l)},className:"btn btn-success",type:"submit"},"Save"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),i(t)},className:"btn btn-danger ml-1"},"Reset")))},de=a(122),me=a.n(de),ke=a(123),fe=a.n(ke),pe=function(){return s.a.createElement("div",{className:me.a.preloader},s.a.createElement("img",{src:fe.a,alt:"preloader"}))},be=a(30),Ee=function(e){var t=e.singleTask,a=e.updateSingleTask;return console.log("singleTask: ",t.id),s.a.createElement(s.a.Fragment,null,null===t.id?s.a.createElement(pe,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("h1",null,t.title),s.a.createElement("span",null,"Creation: ",be(t.dateC).format("D MMM YY - HH:m"))),s.a.createElement(ue,{singleTask:t,updateSingleTask:a})))},Te=function(e){Object(D.a)(a,e);var t=Object(g.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=+this.props.match.params.taskId;B(t).then((function(t){e.props.setSingleTask(t.task)}))}},{key:"render",value:function(){return s.a.createElement(Ee,{singleTask:this.props.singleTask,updateSingleTask:this.props.updateSingleTask})}}]),a}(s.a.Component),he=Object(N.b)((function(e){return{singleTask:e.singleTask}}),(function(e){return{setSingleTask:function(t){e(function(e){return{type:"SET_SINGLE_STATE",singleTask:e}}(t))},updateSingleTask:function(e){J(e)}}}))(Te),_e=function(e){return s.a.createElement("div",{className:"container p-1"},s.a.createElement(h.c,null),s.a.createElement(h.a,{exact:!0,path:"/"},s.a.createElement(te,null)),s.a.createElement(h.a,{path:"/task/:taskId",render:function(e){return s.a.createElement(he,e)}}),s.a.createElement(h.c,null))},ve=a(70),De=a.n(ve);a(211);var ge=function(){return s.a.createElement("nav",{className:"container p-1"},s.a.createElement("ul",{className:"nav m-0"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(x.c,{activeClassName:De.a.active,className:"nav-link p-1",exact:!0,to:"/"},"Tasks")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(x.c,{activeClassName:De.a.active,className:"nav-link p-1",to:"/archive"},"Archive")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(x.c,{activeClassName:De.a.active,className:"nav-link p-1",to:"/faq"},"About"))))};var Ne=function(){return s.a.createElement("div",{className:i.a.App},s.a.createElement(T,null),s.a.createElement(ge,null),s.a.createElement(_e,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=a(46),je=a(292),ye=Object(Oe.b)({tasks:Z,singleTask:ne,form:je.a}),Se=Object(Oe.c)(ye);window.store=Se;var xe=Se;c.a.render(s.a.createElement(x.a,null,s.a.createElement(s.a.StrictMode,null,s.a.createElement(N.a,{store:xe},s.a.createElement(Ne,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,a){e.exports={task:"Task_task__3wevK",icon:"Task_icon__3MW69",done:"Task_done__1jKQ-",taskBody:"Task_taskBody__aCzIM"}},68:function(e,t,a){e.exports={logoInfo:"LogoInfo_logoInfo__1aRco",icon:"LogoInfo_icon__1JeLP"}},69:function(e,t,a){e.exports={task:"TaskCreate_task__222Xq",textarea:"TaskCreate_textarea__2XxAK",field:"TaskCreate_field__28mxz",button:"TaskCreate_button__2i4nh"}},70:function(e,t,a){e.exports={active:"Nav_active__2GC5p"}},85:function(e,t,a){e.exports={header:"Header_header__2ety9",logo:"Header_logo__2EnLz"}},87:function(e,t,a){e.exports={date:"TasksList_date__3Jt6x",totalTasks:"TasksList_totalTasks__1-A2H"}},89:function(e,t,a){e.exports={task:"TaskHeader_task__2ScMU",button:"TaskHeader_button__1AYMz"}}},[[126,1,2]]]);
//# sourceMappingURL=main.7b77741a.chunk.js.map