(this["webpackJsonpf-planner"]=this["webpackJsonpf-planner"]||[]).push([[0],{115:function(e,t,a){},120:function(e,t,a){e.exports={preloader:"Preloader_preloader__1yR4u"}},121:function(e,t,a){e.exports=a.p+"static/media/preloader.62e08d72.gif"},124:function(e,t,a){e.exports=a(283)},26:function(e,t,a){e.exports={label:"SingleTaskForm_label__vtnyU",input:"SingleTaskForm_input__yTS9i"}},283:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),c=a.n(r),l=a(115),o=a.n(l),i=a(5),u=a(84),d=a.n(u),m=a(15),k=a(68),p=a.n(k),f=function(e){var t=Object(n.useState)(!0);return Object(m.a)(t,1)[0]?s.a.createElement("a",{className:Object(i.a)("border","border-primary",p.a.logoInfo),href:"/login"},s.a.createElement("i",{className:Object(i.a)("icon-user",p.a.icon)}),"Log Out"):s.a.createElement("a",{className:Object(i.a)("border","border-primary",p.a.logoInfo),href:"/login"},"Log In")},b=a(36),E=function(e){var t=Object(n.useState)(b().format("D.M.YY - H:m:ss")),a=Object(m.a)(t,2),r=a[0],c=a[1],l=setInterval((function(){c(b().format("D MMM YY - H:m:ss")),clearTimeout(l)}),1e3);return s.a.createElement(s.a.Fragment,null,r)},T=function(e){return s.a.createElement("div",{className:Object(i.a)(d.a.header,"m-0 bg-dark d-flex justify-content-between align-items-center")},s.a.createElement("a",{className:d.a.logo,href:"/"},"FPlanner"),s.a.createElement("p",{className:"m-0 text-primary"},s.a.createElement(E,null)),s.a.createElement(f,null))},g=a(25),D=a(56),_=a(57),O=a(67),h=a(64),j=a(34),v=a(35),N=a.n(v),S=a(41),y=a(36),x=function(e){var t=e.task,a=e.number,n=e.deleteTask,r=e.doneTask,c=e.unDoneTask,l=e.arrDisabledTask,o=e.addInDisabledTask;return s.a.createElement("li",{className:Object(i.a)("list-group-item p-1",N.a.task)},s.a.createElement(S.b,{className:N.a.taskBody,to:"/task/".concat(t.id)},s.a.createElement("span",null,a),s.a.createElement("span",{className:t.isDone?N.a.done:""},t.title),s.a.createElement("span",null,t.dateE?y(t.dateE).format("DD.MM.YY - HH:mm"):"--no date--")),s.a.createElement("button",{disabled:l.includes(t.id),"data-taskid":t.id,onClick:function(e){e.preventDefault();var a=e.currentTarget.getAttribute("data-taskid");o(a),t.isDone?c(a):r(a)},className:Object(i.a)("text-center btn m-0 p-0 cursor-pointer",N.a.icon,{"text-success":t.isDone})},s.a.createElement("i",{className:"icon-ok"})),s.a.createElement("button",{disabled:l.includes(t.id),"data-taskid":t.id,onClick:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-taskid");o(t),n(t)},className:Object(i.a)("text-center btn m-0 p-0 cursor-pointer",N.a.icon)},s.a.createElement("i",{className:"icon-trash"})))},I=a(69),w=a.n(I),A=a(117).create({baseURL:"https://f-planner.herokuapp.com/"}),C=function(){return A.get("/tasks").then((function(e){return e.data}))},M=function(e){var t=JSON.stringify(e);return A.post("/task",{body:t})},K=function(e){return A.delete("/task/".concat(e))},L=function(e){var t=JSON.stringify(e);return A.post("/done",{body:t})},F=function(e){return A.delete("/done/".concat(e))},H=function(e){return A.get("/task/".concat(e)).then((function(e){return e.data}))},Y=function(e){var t=JSON.stringify(e);return A.put("/task/".concat(e.id),{task:t})},B=a(36),R=function(e){e.task,e.number;var t=e.addNewTask,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],l=r[1],o=Object(n.useState)(!1),u=Object(m.a)(o,2),d=u[0],k=u[1];return s.a.createElement("li",{className:Object(i.a)("list-group-item p-1",w.a.task)},s.a.createElement("span",null,"#"),s.a.createElement("form",{className:"d-flex m-0",action:""},s.a.createElement("textarea",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},value:c,placeholder:"Create new task",rows:"1",className:Object(i.a)("m-0 py-0",w.a.textarea),type:"text"}),s.a.createElement("button",{onClick:function(e){var a;(console.log("onClickAddTaskHandler"),e.preventDefault(),c.trim())&&(k(!0),M({id:1,title:c,description:"",dateC:B(),dateE:"",isDone:!1}).then((function(e){a=e.data.id,t({id:a,title:c,description:"",dateC:B(),dateE:"",isDone:!1}),l(""),k(!1)})))},disabled:d,type:"submit",className:Object(i.a)("btn ml-1 p-0",w.a.button)},s.a.createElement("i",{className:"icon-plus"}))))},J=a(87),U=a.n(J),W=function(e){e.task,e.number;return s.a.createElement("li",{className:Object(i.a)("list-group-item active p-1",U.a.task)},s.a.createElement("span",null,"\u2116"),s.a.createElement("span",null,"Title"),s.a.createElement("span",null,"Date expiration"),s.a.createElement("span",{type:"submit",className:Object(i.a)("ml-1 p-0",U.a.button)},s.a.createElement("i",{className:"icon-wrench"})))},z=function(e){var t=e.tasks,a=e.addNewTask,n=e.deleteTask,r=e.doneTask,c=e.unDoneTask,l=e.arrDisabledTask,o=e.addInDisabledTask,i=t.map((function(e,t){return s.a.createElement(x,{key:t,task:e,deleteTask:n,doneTask:r,unDoneTask:c,addInDisabledTask:o,arrDisabledTask:l,number:++t})}));return s.a.createElement("ul",{className:"list-group m-0"},s.a.createElement(W,null),s.a.createElement(R,{addNewTask:a}),i)},P=a(27),G=a(8),V={tasks:[],disabledTask:[]},X=function(e){return{type:"REMOVE_FROM_DISABLED_TASK",taskId:e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TASKS":return Object(G.a)({},e,{tasks:Object(P.a)(t.tasks)});case"ADD_NEW_TASK":return Object(G.a)({},e,{tasks:[].concat(Object(P.a)(e.tasks),[t.newTask])});case"DELETE_TASK":return Object(G.a)({},e,{tasks:Object(P.a)(e.tasks.filter((function(e){return+e.id!==+t.taskId?e:null})))});case"DONE_TASK":return Object(G.a)({},e,{tasks:Object(P.a)(e.tasks.map((function(e){return+e.id===+t.taskId?(e.isDone=!0,e):e})))});case"UNDONE_TASK":return Object(G.a)({},e,{tasks:Object(P.a)(e.tasks.map((function(e){return+e.id===+t.taskId?(e.isDone=!1,e):e})))});case"ADD_IN_DISABLED_TASK":return Object(G.a)({},e,{disabledTask:[].concat(Object(P.a)(e.disabledTask),[+t.taskId])});case"REMOVE_FROM_DISABLED_TASK":return Object(G.a)({},e,{disabledTask:Object(P.a)(e.disabledTask).filter((function(e){return+e!==+t.taskId?e:null}))});default:return e}},Q=function(e){Object(O.a)(a,e);var t=Object(h.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.props.setTasks(JSON.parse(t.body))}))}},{key:"render",value:function(){return s.a.createElement(z,{tasks:this.props.tasks,addInDisabledTask:this.props.addInDisabledTask,arrDisabledTask:this.props.arrDisabledTask,addNewTask:this.props.addNewTask,deleteTask:this.props.deleteTask,doneTask:this.props.doneTask,unDoneTask:this.props.unDoneTask})}}]),a}(s.a.Component),$=Object(j.b)((function(e){return{tasks:e.tasks.tasks,arrDisabledTask:e.tasks.disabledTask}}),(function(e){return{addNewTask:function(t){e(function(e){return{type:"ADD_NEW_TASK",newTask:e}}(t))},deleteTask:function(t){K(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"DELETE_TASK",taskId:e}}(t)),e(X(t)))}))},doneTask:function(t){L(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"DONE_TASK",taskId:e}}(t)),e(X(t)))}))},unDoneTask:function(t){F(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"UNDONE_TASK",taskId:e}}(t)),e(X(t)))}))},setTasks:function(t){e(function(e){return{type:"SET_TASKS",tasks:e}}(t))},addInDisabledTask:function(t){e(function(e){return{type:"ADD_IN_DISABLED_TASK",taskId:e}}(t))}}}))(Q),Z={id:null,title:"",description:"",dateC:"",dateE:"",isDone:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SINGLE_STATE":return Object(G.a)({},e,{},t.singleTask);default:return e}},te=a(118),ae=a.n(te),ne=(a(151),a(36)),se=function(e){var t=e.changeDateE,a=e.singleTask;Object(n.useEffect)((function(){o(new Date(ne(a.dateE?a.dateE:new Date).format("YYYY/MM/DD-HH:mm")))}),[a]);var r=Object(n.useState)(null),c=Object(m.a)(r,2),l=c[0],o=c[1];return s.a.createElement(ae.a,{selected:l,onChange:function(e){o(e),t(ne(e).format()),console.log("moment(date): ",ne(e))},minDate:new Date,dateFormat:"dd.MM.yy - hh:mm",showTimeInput:!0,placeholderText:"Select expiration date"})},re=a(26),ce=a.n(re),le=function(e){var t=e.singleTask,a=e.updateSingleTask;Object(n.useEffect)((function(){o(t)}),[t]);var r=Object(n.useState)(t),c=Object(m.a)(r,2),l=c[0],o=c[1];return s.a.createElement("form",null,s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"title",className:Object(i.a)("mr-1",ce.a.label)},"Title:"),s.a.createElement("input",{className:Object(i.a)(ce.a.input),id:"title",onChange:function(e){o(Object(G.a)({},l,{title:e.currentTarget.value}))},type:"text",value:l.title})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"description",className:Object(i.a)("mr-1",ce.a.label)},"Description:"),s.a.createElement("textarea",{className:Object(i.a)(ce.a.input,"p-0 pl-1 pr-1"),rows:"1",id:"description",onChange:function(e){o(Object(G.a)({},l,{description:e.currentTarget.value}))},type:"text",value:l.description})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"Date expiration",className:Object(i.a)("mr-1",ce.a.label)},"Date expiration:"),s.a.createElement(se,{singleTask:t,changeDateE:function(e){o(Object(G.a)({},l,{dateE:e}))}})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"Done",className:Object(i.a)("mr-1",ce.a.label)},"Done:"),s.a.createElement("input",{className:Object(i.a)(ce.a.input),id:"Done",onChange:function(e){o(Object(G.a)({},l,{isDone:!l.isDone}))},type:"checkbox",checked:l.isDone,value:l.isDone})),s.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},s.a.createElement("button",{onClick:function(e){e.preventDefault(),a(l)},className:"btn btn-success",type:"submit"},"Save"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),o(t)},className:"btn btn-danger ml-1"},"Reset")))},oe=a(120),ie=a.n(oe),ue=a(121),de=a.n(ue),me=function(){return s.a.createElement("div",{className:ie.a.preloader},s.a.createElement("img",{src:de.a,alt:"preloader"}))},ke=a(36),pe=function(e){var t=e.singleTask,a=e.updateSingleTask;return console.log("singleTask: ",t.id),s.a.createElement(s.a.Fragment,null,null===t.id?s.a.createElement(me,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("h1",null,t.title),s.a.createElement("span",null,"Creation: ",ke(t.dateC).format("D MMM YY - HH:m"))),s.a.createElement(le,{singleTask:t,updateSingleTask:a})))},fe=function(e){Object(O.a)(a,e);var t=Object(h.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=+this.props.match.params.taskId;H(t).then((function(t){e.props.setSingleTask(t.task)}))}},{key:"render",value:function(){return s.a.createElement(pe,{singleTask:this.props.singleTask,updateSingleTask:this.props.updateSingleTask})}}]),a}(s.a.Component),be=Object(j.b)((function(e){return{singleTask:e.singleTask}}),(function(e){return{setSingleTask:function(t){e(function(e){return{type:"SET_SINGLE_STATE",singleTask:e}}(t))},updateSingleTask:function(e){Y(e)}}}))(fe),Ee=function(e){return s.a.createElement("div",{className:"container p-1"},s.a.createElement(g.c,null),s.a.createElement(g.a,{exact:!0,path:"/"},s.a.createElement($,null)),s.a.createElement(g.a,{path:"/task/:taskId",render:function(e){return s.a.createElement(be,e)}}),s.a.createElement(g.c,null))};var Te=function(){return s.a.createElement("div",{className:o.a.App},s.a.createElement(T,null),s.a.createElement(Ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=a(46),De=a(289),_e=Object(ge.b)({tasks:q,singleTask:ee,form:De.a}),Oe=Object(ge.c)(_e);window.store=Oe;var he=Oe;c.a.render(s.a.createElement(S.a,null,s.a.createElement(s.a.StrictMode,null,s.a.createElement(j.a,{store:he},s.a.createElement(Te,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={task:"Task_task__3wevK",icon:"Task_icon__3MW69",done:"Task_done__1jKQ-",taskBody:"Task_taskBody__aCzIM"}},68:function(e,t,a){e.exports={logoInfo:"LogoInfo_logoInfo__1aRco",icon:"LogoInfo_icon__1JeLP"}},69:function(e,t,a){e.exports={task:"TaskCreate_task__222Xq",textarea:"TaskCreate_textarea__2XxAK",field:"TaskCreate_field__28mxz",button:"TaskCreate_button__2i4nh"}},84:function(e,t,a){e.exports={header:"Header_header__2ety9",logo:"Header_logo__2EnLz"}},87:function(e,t,a){e.exports={task:"TaskHeader_task__2ScMU",button:"TaskHeader_button__1AYMz"}}},[[124,1,2]]]);
//# sourceMappingURL=main.a3269121.chunk.js.map