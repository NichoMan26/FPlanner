(this["webpackJsonpf-planner"]=this["webpackJsonpf-planner"]||[]).push([[0],{115:function(e,t,a){},122:function(e,t,a){e.exports=a(281)},26:function(e,t,a){e.exports={label:"SingleTaskForm_label__vtnyU",input:"SingleTaskForm_input__yTS9i"}},281:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),c=a.n(r),l=a(115),i=a.n(l),o=a(5),u=a(84),d=a.n(u),m=a(15),k=a(67),p=a.n(k),f=function(e){var t=Object(n.useState)(!0);return Object(m.a)(t,1)[0]?s.a.createElement("a",{className:Object(o.a)("border","border-primary",p.a.logoInfo),href:"/login"},s.a.createElement("i",{className:Object(o.a)("icon-user",p.a.icon)}),"Log Out"):s.a.createElement("a",{className:Object(o.a)("border","border-primary",p.a.logoInfo),href:"/login"},"Log In")},b=a(35),E=function(e){var t=Object(n.useState)(b().format("D.M.YY - H:m:ss")),a=Object(m.a)(t,2),r=a[0],c=a[1],l=setInterval((function(){c(b().format("D MMM YY - H:m:ss")),clearTimeout(l)}),1e3);return s.a.createElement(s.a.Fragment,null,r)},T=function(e){return s.a.createElement("div",{className:Object(o.a)(d.a.header,"m-0 bg-dark d-flex justify-content-between align-items-center")},s.a.createElement("a",{className:d.a.logo,href:"/"},"FPlanner"),s.a.createElement("p",{className:"m-0 text-primary"},s.a.createElement(E,null)),s.a.createElement(f,null))},g=a(25),D=a(55),h=a(56),O=a(66),_=a(63),j=a(34),v=a(46),N=a.n(v),S=a(35),y=function(e){var t=e.task,a=e.number,n=e.deleteTask,r=e.doneTask,c=e.unDoneTask,l=e.arrDisabledTask,i=e.addInDisabledTask;return s.a.createElement("li",{onClick:function(e){"SPAN"!==e.target.tagName&&"LI"!==e.target.tagName||(window.location.pathname="/task/"+t.id)},className:Object(o.a)("list-group-item p-1",N.a.task)},s.a.createElement("span",null,a),s.a.createElement("span",{className:t.isDone?N.a.done:""},t.title),s.a.createElement("span",null,t.dateE?S(t.dateE).format("DD.MM.YY - HH:mm"):"--no date--"),s.a.createElement("button",{disabled:l.includes(t.id),"data-taskid":t.id,onClick:function(e){e.preventDefault();var a=e.currentTarget.getAttribute("data-taskid");i(a),t.isDone?c(a):r(a)},className:Object(o.a)("text-center btn m-0 p-0 cursor-pointer",N.a.icon,{"text-success":t.isDone})},s.a.createElement("i",{className:"icon-ok"})),s.a.createElement("button",{disabled:l.includes(t.id),"data-taskid":t.id,onClick:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-taskid");i(t),n(t)},className:Object(o.a)("text-center btn m-0 p-0 cursor-pointer",N.a.icon)},s.a.createElement("i",{className:"icon-trash"})))},w=a(68),I=a.n(w),x=a(117).create({baseURL:"https://f-planner.herokuapp.com/"}),A=function(){return x.get("/tasks").then((function(e){return e.data}))},C=function(e){var t=JSON.stringify(e);return x.post("/task",{body:t})},M=function(e){return x.delete("/task/".concat(e))},K=function(e){var t=JSON.stringify(e);return x.post("/done",{body:t})},L=function(e){return x.delete("/done/".concat(e))},F=function(e){return x.get("/task/".concat(e)).then((function(e){return e.data}))},Y=function(e){var t=JSON.stringify(e);return x.put("/task/".concat(e.id),{task:t})},H=a(35),J=function(e){e.task,e.number;var t=e.addNewTask,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),d=u[0],k=u[1];return s.a.createElement("li",{className:Object(o.a)("list-group-item p-1",I.a.task)},s.a.createElement("span",null,"#"),s.a.createElement("form",{className:"d-flex m-0",action:""},s.a.createElement("textarea",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},value:c,placeholder:"Create new task",rows:"1",className:Object(o.a)("m-0 py-0",I.a.textarea),type:"text"}),s.a.createElement("button",{onClick:function(e){var a;(e.preventDefault(),c.trim())&&(k(!0),C({id:1,title:c,description:"",dateC:H(),dateE:"",isDone:!1}).then((function(e){a=e.data.id,t({id:a,title:c,description:"",dateC:H(),dateE:"",isDone:!1}),l(""),k(!1),window.location.pathname="/task/"+a})))},disabled:d,type:"submit",className:Object(o.a)("btn ml-1 p-0",I.a.button)},s.a.createElement("i",{className:"icon-plus"}))))},R=a(86),B=a.n(R),U=function(e){e.task,e.number;return s.a.createElement("li",{className:Object(o.a)("list-group-item active p-1",B.a.task)},s.a.createElement("span",null,"\u2116"),s.a.createElement("span",null,"Title"),s.a.createElement("span",null,"Date expiration"),s.a.createElement("span",{type:"submit",className:Object(o.a)("ml-1 p-0",B.a.button)},s.a.createElement("i",{className:"icon-wrench"})))},W=function(e){var t=e.tasks,a=e.addNewTask,n=e.deleteTask,r=e.doneTask,c=e.unDoneTask,l=e.arrDisabledTask,i=e.addInDisabledTask,o=t.map((function(e,t){return s.a.createElement(y,{key:t,task:e,deleteTask:n,doneTask:r,unDoneTask:c,addInDisabledTask:i,arrDisabledTask:l,number:++t})}));return s.a.createElement("ul",{className:"list-group m-0"},s.a.createElement(U,null),s.a.createElement(J,{addNewTask:a}),o)},z=a(27),P=a(8),G={tasks:[],disabledTask:[]},V=function(e){return{type:"REMOVE_FROM_DISABLED_TASK",taskId:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TASKS":return Object(P.a)({},e,{tasks:Object(z.a)(t.tasks)});case"ADD_NEW_TASK":return Object(P.a)({},e,{tasks:[].concat(Object(z.a)(e.tasks),[t.newTask])});case"DELETE_TASK":return Object(P.a)({},e,{tasks:Object(z.a)(e.tasks.filter((function(e){return+e.id!==+t.taskId?e:null})))});case"DONE_TASK":return Object(P.a)({},e,{tasks:Object(z.a)(e.tasks.map((function(e){return+e.id===+t.taskId?(e.isDone=!0,e):e})))});case"UNDONE_TASK":return Object(P.a)({},e,{tasks:Object(z.a)(e.tasks.map((function(e){return+e.id===+t.taskId?(e.isDone=!1,e):e})))});case"ADD_IN_DISABLED_TASK":return Object(P.a)({},e,{disabledTask:[].concat(Object(z.a)(e.disabledTask),[+t.taskId])});case"REMOVE_FROM_DISABLED_TASK":return Object(P.a)({},e,{disabledTask:Object(z.a)(e.disabledTask).filter((function(e){return+e!==+t.taskId?e:null}))});default:return e}},q=function(e){Object(O.a)(a,e);var t=Object(_.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;A().then((function(t){e.props.setTasks(JSON.parse(t.body))}))}},{key:"render",value:function(){return s.a.createElement(W,{tasks:this.props.tasks,addInDisabledTask:this.props.addInDisabledTask,arrDisabledTask:this.props.arrDisabledTask,addNewTask:this.props.addNewTask,deleteTask:this.props.deleteTask,doneTask:this.props.doneTask,unDoneTask:this.props.unDoneTask})}}]),a}(s.a.Component),Q=Object(j.b)((function(e){return{tasks:e.tasks.tasks,arrDisabledTask:e.tasks.disabledTask}}),(function(e){return{addNewTask:function(t){e(function(e){return{type:"ADD_NEW_TASK",newTask:e}}(t))},deleteTask:function(t){M(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"DELETE_TASK",taskId:e}}(t)),e(V(t)))}))},doneTask:function(t){K(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"DONE_TASK",taskId:e}}(t)),e(V(t)))}))},unDoneTask:function(t){L(t).then((function(a,n){if(n)throw n;200===+a.status&&(e(function(e){return{type:"UNDONE_TASK",taskId:e}}(t)),e(V(t)))}))},setTasks:function(t){e(function(e){return{type:"SET_TASKS",tasks:e}}(t))},addInDisabledTask:function(t){e(function(e){return{type:"ADD_IN_DISABLED_TASK",taskId:e}}(t))}}}))(q),$={id:null,title:"",description:"",dateC:"",dateE:"",isDone:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SINGLE_STATE":return Object(P.a)({},e,{},t.singleTask);default:return e}},ee=a(118),te=a.n(ee),ae=(a(148),a(35)),ne=function(e){var t=e.changeDateE,a=e.singleTask;Object(n.useEffect)((function(){i(new Date(ae(a.dateE?a.dateE:new Date).format("YYYY/MM/DD-HH:mm")))}),[a]);var r=Object(n.useState)(null),c=Object(m.a)(r,2),l=c[0],i=c[1];return s.a.createElement(te.a,{selected:l,onChange:function(e){i(e),t(ae(e).format()),console.log("moment(date): ",ae(e))},minDate:new Date,dateFormat:"dd.MM.yy - hh:mm",showTimeInput:!0,placeholderText:"Select expiration date"})},se=a(26),re=a.n(se),ce=function(e){var t=e.singleTask,a=e.updateSingleTask;Object(n.useEffect)((function(){i(t)}),[t]);var r=Object(n.useState)(t),c=Object(m.a)(r,2),l=c[0],i=c[1];return s.a.createElement("form",null,s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"title",className:Object(o.a)("mr-1",re.a.label)},"Title:"),s.a.createElement("input",{className:Object(o.a)(re.a.input),id:"title",onChange:function(e){i(Object(P.a)({},l,{title:e.currentTarget.value}))},type:"text",value:l.title})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"description",className:Object(o.a)("mr-1",re.a.label)},"Description:"),s.a.createElement("textarea",{className:Object(o.a)(re.a.input,"p-0 pl-1 pr-1"),rows:"1",id:"description",onChange:function(e){i(Object(P.a)({},l,{description:e.currentTarget.value}))},type:"text",value:l.description})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"Date expiration",className:Object(o.a)("mr-1",re.a.label)},"Date expiration:"),s.a.createElement(ne,{singleTask:t,changeDateE:function(e){i(Object(P.a)({},l,{dateE:e}))}})),s.a.createElement("div",{className:"d-flex"},s.a.createElement("label",{htmlFor:"Done",className:Object(o.a)("mr-1",re.a.label)},"Done:"),s.a.createElement("input",{className:Object(o.a)(re.a.input),id:"Done",onChange:function(e){i(Object(P.a)({},l,{isDone:!l.isDone}))},type:"checkbox",checked:l.isDone,value:l.isDone})),s.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},s.a.createElement("button",{onClick:function(e){e.preventDefault(),a(l)},className:"btn btn-success",type:"submit"},"Save"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),i(t)},className:"btn btn-danger ml-1"},"Reset")))},le=a(35),ie=function(e){var t=e.singleTask,a=e.updateSingleTask;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("h1",null,t.title),s.a.createElement("span",null,"Creation: ",le(t.dateC).format("D MMM YY - HH:m"))),s.a.createElement(ce,{singleTask:t,updateSingleTask:a}))},oe=function(e){Object(O.a)(a,e);var t=Object(_.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=+this.props.match.params.taskId;F(t).then((function(t){e.props.setSingleTask(t.task)}))}},{key:"render",value:function(){return s.a.createElement(ie,{singleTask:this.props.singleTask,updateSingleTask:this.props.updateSingleTask})}}]),a}(s.a.Component),ue=Object(j.b)((function(e){return{singleTask:e.singleTask}}),(function(e){return{setSingleTask:function(t){e(function(e){return{type:"SET_SINGLE_STATE",singleTask:e}}(t))},updateSingleTask:function(e){Y(e)}}}))(oe),de=function(e){return s.a.createElement("div",{className:"container p-1"},s.a.createElement(g.c,null),s.a.createElement(g.a,{exact:!0,path:"/"},s.a.createElement(Q,null)),s.a.createElement(g.a,{path:"/task/:taskId",render:function(e){return s.a.createElement(ue,e)}}),s.a.createElement(g.c,null))};var me=function(){return s.a.createElement("div",{className:i.a.App},s.a.createElement(T,null),s.a.createElement(de,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=a(83),pe=a(44),fe=a(287),be=Object(pe.b)({tasks:X,singleTask:Z,form:fe.a}),Ee=Object(pe.c)(be);window.store=Ee;var Te=Ee;c.a.render(s.a.createElement(ke.a,null,s.a.createElement(s.a.StrictMode,null,s.a.createElement(j.a,{store:Te},s.a.createElement(me,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports={task:"Task_task__3wevK",icon:"Task_icon__3MW69",done:"Task_done__1jKQ-"}},67:function(e,t,a){e.exports={logoInfo:"LogoInfo_logoInfo__1aRco",icon:"LogoInfo_icon__1JeLP"}},68:function(e,t,a){e.exports={task:"TaskCreate_task__222Xq",textarea:"TaskCreate_textarea__2XxAK",field:"TaskCreate_field__28mxz",button:"TaskCreate_button__2i4nh"}},84:function(e,t,a){e.exports={header:"Header_header__2ety9",logo:"Header_logo__2EnLz"}},86:function(e,t,a){e.exports={task:"TaskHeader_task__2ScMU",button:"TaskHeader_button__1AYMz"}}},[[122,1,2]]]);
//# sourceMappingURL=main.d7e26014.chunk.js.map